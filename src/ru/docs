
# Настройка

Здесь вы узнаете что из себя представляет конфигурация. Будьте уверены, что сможете уловить все детали своим зорким глазом. Если у вас возникнут некоторые проблемы, пожалуйста, свяжитесь с поддержкой. Премиум пользователи могут получить бесплатную услугу по настройке от нашей команды.

## Основная часть конфигурации

Конфигурация основана на [lightbend конфиге](https://github.com/lightbend/config). Это означает, что мы поддерживаем 3 формата: Java Properties, JSON и HOCON.

Мы **настоятельно рекомендуем использовать HOCON** как наиболее простой, элегантный и многосторонний способ, лёгкий в использовании. Посмотрите приложенный конфиг по умолчанию:

```javascript
exempt: []

libs: []

stringEncryption {
  type: STANDARD
  enabled: true
  exempt: []
}

numberEncryption {
  enabled: true
  exempt: []
}

intAnnotationEncryption {
  enabled: true
  exempt: []
}

stringAnnotationEncryption {
  enabled: true
  exempt: []
}

exceptionReturn {
  enabled: true
  exempt: []
}

flowCondition {
  enabled: true
  exempt: []
}

flowException {
  enabled: true
  strength: AGGRESSIVE
  exempt: []
}

flowRange {
  enabled: true
  exempt: []
}

flowFactoryMaker {
  enabled: true
  exempt: []
}

flowSwitch {
  enabled: true
  exempt: []
}

outliner {
  enabled: true
  exempt: []
}

ahegao {
  enabled: true
  exempt: []
}

native: {
  enabled: false
  exempt: []
}

driver: {
  enabled: false
}

reference {
  enabled: false
}

fileCrasher: {
  enabled: false
}

classRenamer {
  enabled: false
  type: CUSTOM
  prefix: "skido/"
  chars: [
    "K"
    "oO",
    "o0"
  ]
  depth: 3
}

methodRenamer {
  enabled: false
  type: CUSTOM
  chars: [
    "K"
    "oO",
    "o0"
  ]
  depth: 3
}

fieldRenamer {
  enabled: false
  type: ALPHABETICAL
}
```

## Исключения

Использование исключений идентично тому, как это было реализовано в старой системе. Чтобы узнать больше об исключениях, следуйте на [эту страницу](../exclusion.md)

::: предупреждение 
Java считывает строку, удаляя обратный слэш. Это означает, что вы ОБЯЗАНЫ писать дважды обратный слэш
:::

### Исключение класса

Сначала, чтобы исключить какой-то класс, вам необходимо использовать исключение класса по регулярному выражению (regex):
```js
class{^my\/class}
```

Чтобы установить это в конфигурации, вы должны передать его как строку.


```js
exempt: [
    "class{^my\\/class}"
]
```

### Исключение метода

Сначала, чтобы исключить какой-то метод, вам необходимо использовать исключение метода класса:
```js
method{^myMethod}
```

Чтобы установить это в конфигурации, вы должны передать его как строку.

```js
exempt: [
    "method{^myMethod}"
]
```

### Исключение метода в определённом классе

Просто закрепим выше сказанное, чтобы исключить метод и класс мы должны сделать следующее:
```js
class{^my\/class}
method{^myMethod}
```

Теперь, чтобы исключить метод ВНУТРИ какого-то класса, всё что нам нужно, это объединить всё в одну строчку:

```js
class{^my\/class} method{^myMethod}
```

В конфиге это будет выглядеть так:

```js
exempt: [
    "class{^my\/class} method{^myMethod}"
]
```

## Библиотеки

Библиотеки - это важный аспект вычисления classpath'а и обеспечения полной безопасности вашего приложения. Здесь вы должны предоставить корректный Java аргумент пути как строку

Ниже можно увидеть код реализации:
```java
public File[] getLibs() {
    return this.getStringList("libraries", Collections.emptyList())
                .stream()
                .map(File::new)
                .distinct()
                .toArray(File[]::new);
}
```

Ниже можно увидеть несколько правильных java путей:
```
C:\test.jar
test.jar
./test.jar
/Home/test.jar
```

В конфиге это будет выглядеть так:

```js
libraries [
    "C:\\test.jar",
    "test.jar",
    "./test.jar",
    "/Home/test.jar"
]
```

## Драйвер

Драйвер - это упрочняющая часто Skidfuscator. Эта особенность зарезервирована для премиума. В двух словах, для обфускации создается и компилируется новый драйвер для следующих архитектур:

| Операционная система | Поддерживаемые архитектуры |
| -------------------- | -------------------------- |
| Windows              | x64_86                     |
| MacOS                | x64_86, AARCH64 (ARM)      |
| Linux                | x64_86 (AMD64)             |

Чтобы отключить эту функцию (:warning: это сильно снижает силу обфускации), вы должны переключить это значение:

```js
driver: false
```


## Преобразователи

Вы можете индивидуально включать/отключать каждый преобразователь.


#### Шифрование строк

Шифрователь строк преобразует каждую строку в вызов специального метода с целью скрытия их во время работы программы. Это может быть практично для нечувствительных URL, приватных ключей и т. д...

::: warning
Вы не должны в основном доверять клиенту. Пожалуйста, не полагайтесь на шифрование строк как на единственную защиту для вашего ПО. По умолчанию, вы должны понимать, что талантливый специалист по reverse-engineering'гу может получить доступ к ним, если у него будет достаточно времени и терпения.
:::

В настоящее время существует два режима для шифрования строк: `STANDARD` и `POLYMORPHIC`

#### Шифрование чисел

Шифрователь чисел шифрует кажое число с целью его сокрытия. Это идеально подходит для полного искажения кода и делает крайне сложной задачу reverse-engineering специалистов воссоздать исходный код. Это также защищает любые основанные на boolean операции.
